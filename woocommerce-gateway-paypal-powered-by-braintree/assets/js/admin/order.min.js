(()=>{"use strict";const e=window.wp.i18n;jQuery((function(t){var a='<div id="braintree-order-modal" role="dialog" aria-labelledby="braintree-modal-title" aria-modal="true"><div class="modal-content"><span class="close" aria-label="'+(0,e.__)("Close modal","woocommerce-gateway-paypal-powered-by-braintree")+'">&times;</span><h2 id="braintree-modal-title">'+(0,e.__)("Braintree Transaction Details","woocommerce-gateway-paypal-powered-by-braintree")+'</h2><div class="modal-body" aria-live="polite"><div class="loading-message">'+(0,e.__)("Loading transaction data...","woocommerce-gateway-paypal-powered-by-braintree")+"</div></div></div></div>";t("body").append(a);var r=t("#braintree-order-modal"),o=t("#braintree-open-modal"),n=r.find(".close"),d=r.find(".modal-body");o.on("click",(function(a){a.preventDefault(),r.show(),d.html('<div class="loading-message">'+(0,e.__)("Loading transaction data...","woocommerce-gateway-paypal-powered-by-braintree")+"</div>"),t.ajax({url:braintree_admin_order.ajax_url,type:"POST",data:{action:"braintree_get_transaction_data",order_id:braintree_admin_order.order_id,transaction_data_nonce:braintree_admin_order.transaction_data_nonce},success:function(t){var a,r;t.success?(r="",(a=t.data).general&&(r+="<h3>"+(0,e.__)("General Information","woocommerce-gateway-paypal-powered-by-braintree")+"</h3>",r+='<table class="transaction-data-table">',r+="<tr><td><strong>"+(0,e.__)("Status:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.general.status+"</td></tr>",r+="<tr><td><strong>"+(0,e.__)("Type:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.general.type+"</td></tr>",r+="<tr><td><strong>"+(0,e.__)("Merchant Account:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.general.merchant_account_id+"</td></tr>",r+="</table>"),a.response&&(r+="<h3>"+(0,e.__)("Response Data","woocommerce-gateway-paypal-powered-by-braintree")+"</h3>",r+='<table class="transaction-data-table">',r+="<tr><td><strong>"+(0,e.__)("Authorization Code:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.response.authorization_code+"</td></tr>",r+="<tr><td><strong>"+(0,e.__)("AVS Result:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.response.avs_result+"</td></tr>",r+="<tr><td><strong>"+(0,e.__)("CVV Result:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.response.cvv_result+"</td></tr>",a.response.risk_decision&&(r+="<tr><td><strong>"+(0,e.__)("Risk Decision:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.response.risk_decision+"</td></tr>"),r+="</table>"),a.three_ds&&Object.keys(a.three_ds).length>0&&(r+="<h3>"+(0,e.__)("3D Secure Information","woocommerce-gateway-paypal-powered-by-braintree")+"</h3>",r+='<table class="transaction-data-table">',r+="<tr><td><strong>"+(0,e.__)("Status:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.three_ds.status+"</td></tr>",r+="<tr><td><strong>"+(0,e.__)("Liability Shifted:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.three_ds.liability_shifted+"</td></tr>",r+="<tr><td><strong>"+(0,e.__)("Liability Shift Possible:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.three_ds.liability_shift_possible+"</td></tr>",r+="</table>"),a.payment&&(r+="<h3>"+(0,e.__)("Payment Data","woocommerce-gateway-paypal-powered-by-braintree")+"</h3>",r+='<table class="transaction-data-table">',a.payment.card_type&&(r+="<tr><td><strong>"+(0,e.__)("Card Type:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.payment.card_type+"</td></tr>",r+="<tr><td><strong>"+(0,e.__)("Last Four:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.payment.last_four+"</td></tr>"),a.payment.payer_email&&(r+="<tr><td><strong>"+(0,e.__)("PayPal Email:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.payment.payer_email+"</td></tr>"),a.payment.payment_type&&(r+="<tr><td><strong>"+(0,e.__)("Payment Type:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.payment.payment_type+"</td></tr>"),a.payment.transaction_fee&&(r+="<tr><td><strong>"+(0,e.__)("Transaction Fee:","woocommerce-gateway-paypal-powered-by-braintree")+"</strong></td><td>"+a.payment.transaction_fee+"</td></tr>"),r+="</table>"),d.html(r)):d.html('<div class="error-message">'+(0,e.__)("Error:","woocommerce-gateway-paypal-powered-by-braintree")+" "+t.data.message+"</div>")},error:function(){d.html('<div class="error-message">'+(0,e.__)("Failed to load transaction data.","woocommerce-gateway-paypal-powered-by-braintree")+"</div>")}})})),n.on("click",(function(){r.hide()})),t(window).on("click",(function(e){t(e.target).is(r)&&r.hide()})),t(document).on("keydown",(function(e){"Escape"===e.key&&r.is(":visible")&&r.hide()}))}))})();